function CrmNotify(titl,clubid){    var formsend = '<input type="hidden" name="club_id" id="club_id" value="'+clubid+'">';    formsend += '<input type="hidden" name="obs_status" id="obs_status" value="0">';    formsend += '<textarea name="obs_text" id="obs_text" class="swal2-textarea" placeholder="Digite a anotação..."></textarea><hr>';    formsend += '<input type="checkbox" name="notify_admin" id="notify_admin" class="checkbox swal2-checkbox"> <label id="notify_adm">Agendar data para Retorno</label>';    formsend += '<input type="text" name="notify_at" id="notify_at" class="swal2-input" placeholder="Clique aqui para selecionar a data de retorno..." style="display:none">';    var notifyat = false;    swal({        title: titl,        html: formsend,        focusConfirm: false,        showCancelButton: true,        confirmButtonText: 'Cadastrar',        cencelButtonText: 'Cancelar',        showLoaderOnConfirm: true,        allowOutsideClick: false,        onOpen: function() {            $('#notify_at').bootstrapMaterialDatePicker({ format : 'YYYY-MM-DD HH:mm:ss', minDate : new Date() }); //DD/MM/YYYY HH:mm            $('#notify_adm').on('click', function(event) {                event.preventDefault();                if (notifyat) {                    notifyat = false;                    document.getElementById("notify_admin").checked = false;                    document.getElementById("notify_at").style.display = "none";                } else {                    notifyat = true;                    document.getElementById("notify_admin").checked = true;                    document.getElementById("notify_at").style.display = "block";                }            });        },        preConfirm: function() {            var test = true;            var test1 = document.getElementById('obs_text').value;            if (!test1) {                test = false;                swal.showValidationError('Digite a Anotação!!!');            } else {                if (notifyat) {                    var test2 = document.getElementById('notify_at').value;                    if (!test2) {                        test = false;                        swal.showValidationError('Selecione a data e hora para Retorno!!!');                    } else {                        document.getElementById('obs_status').value = '0';                    }                } else {                    document.getElementById('obs_status').value = '3';                }            }            if (test) {                var senddata = {                    _token : $('[name="_token"]').val(),                    not_id: "0",                    club_id: document.getElementById('club_id').value,                    obs_status: document.getElementById('obs_status').value,                    notify_admin: document.getElementById('notify_admin').checked,                    notify_at: document.getElementById('notify_at').value,                    obs_text: document.getElementById('obs_text').value                };                $.ajax({                    url: '/poker/crm/save',                    type: 'post',                    dataType: 'json',                    data: senddata,                    success: function (data) {                        if (data.result == 'N') {                            aviso('warning', data.message);                            return false;                        }                        aviso('success', data.message);                        location.reload();                    }                    , error: function (XMLHttpRequest, textStatus, errorThrown) {                        aviso('warning', tratarErroAjax(XMLHttpRequest), 'Atenção!');                    }                });            } else {                setTimeout(function() {                    document.getElementById("swal2-validationerror").style.display = "none";                }, 3000)            }        }    })}function CrmReturn(titl,msgst,notid){    var formsend = '<input type="hidden" name="not_id" id="not_id" value="'+notid+'">';    formsend += '<input type="checkbox" name="obs_status_0" id="obs_status_0" class="checkbox swal2-checkbox"> <label id="bt_status_0">ATIVO</label><hr>';    formsend += '<input type="checkbox" name="obs_status_1" id="obs_status_1" class="checkbox swal2-checkbox"> <label id="bt_status_1">RETORNO POSITIVO</label><hr>';    formsend += '<input type="checkbox" name="obs_status_2" id="obs_status_2" class="checkbox swal2-checkbox"> <label id="bt_status_2">RETORNO NEGATIVO</label><hr>';    formsend += '<input type="checkbox" name="obs_status_3" id="obs_status_3" class="checkbox swal2-checkbox"> <label id="bt_status_3">OBSERVAÇÃO</label><hr>';    formsend += '<input type="checkbox" name="obs_status_4" id="obs_status_4" class="checkbox swal2-checkbox"> <label id="bt_status_4">CANCELAR</label><hr>';    formsend += '<input type="checkbox" name="obs_status_5" id="obs_status_5" class="checkbox swal2-checkbox"> <label id="bt_status_5">ARQUIVVAR</label><hr>';    formsend += '<textarea name="obs_text" id="obs_text" class="swal2-textarea" placeholder="Digite o motivo ou comentário..."></textarea>';    var notifyat = msgst;    swal({        title: titl,        html: formsend,        focusConfirm: false,        showCancelButton: true,        confirmButtonText: 'Alterar',        cencelButtonText: 'Cancelar',        showLoaderOnConfirm: true,        allowOutsideClick: false,        onOpen: function() {            $('#notify_at').bootstrapMaterialDatePicker({ format : 'YYYY-MM-DD HH:mm:ss', minDate : new Date() }); //DD/MM/YYYY HH:mm            if (msgst == '0') {                document.getElementById("bt_status_3").style.display = "none";                document.getElementById("bt_status_5").style.display = "none";            } else if (msgst == '3') {                document.getElementById("bt_status_0").style.display = "none";                document.getElementById("bt_status_1").style.display = "none";                document.getElementById("bt_status_2").style.display = "none";                document.getElementById("bt_status_4").style.display = "none";            }            if (msgst == '1') document.getElementById("obs_status_1").checked = true;            else if (msgst == '2') document.getElementById("obs_status_2").checked = true;            else if (msgst == '3') document.getElementById("obs_status_3").checked = true;            else if (msgst == '4') document.getElementById("obs_status_4").checked = true;            else if (msgst == '5') document.getElementById("obs_status_5").checked = true;            else document.getElementById("obs_status_0").checked = true;            $('#bt_status_0').on('click', function(event) {                event.preventDefault();                notifyat = 0;                document.getElementById("obs_status_0").checked = true;                document.getElementById("obs_status_1").checked = false;                document.getElementById("obs_status_2").checked = false;                document.getElementById("obs_status_3").checked = false;                document.getElementById("obs_status_4").checked = false;                document.getElementById("obs_status_5").checked = false;            });            $('#bt_status_1').on('click', function(event) {                event.preventDefault();                notifyat = 1;                document.getElementById("obs_status_0").checked = false;                document.getElementById("obs_status_1").checked = true;                document.getElementById("obs_status_2").checked = false;                document.getElementById("obs_status_3").checked = false;                document.getElementById("obs_status_4").checked = false;                document.getElementById("obs_status_5").checked = false;            });            $('#bt_status_2').on('click', function(event) {                event.preventDefault();                notifyat = 2;                document.getElementById("obs_status_0").checked = false;                document.getElementById("obs_status_1").checked = false;                document.getElementById("obs_status_2").checked = true;                document.getElementById("obs_status_3").checked = false;                document.getElementById("obs_status_4").checked = false;                document.getElementById("obs_status_5").checked = false;            });            $('#bt_status_3').on('click', function(event) {                event.preventDefault();                notifyat = 3;                document.getElementById("obs_status_0").checked = false;                document.getElementById("obs_status_1").checked = false;                document.getElementById("obs_status_2").checked = false;                document.getElementById("obs_status_3").checked = true;                document.getElementById("obs_status_4").checked = false;                document.getElementById("obs_status_5").checked = false;            });            $('#bt_status_4').on('click', function(event) {                event.preventDefault();                notifyat = 4;                document.getElementById("obs_status_0").checked = false;                document.getElementById("obs_status_1").checked = false;                document.getElementById("obs_status_2").checked = false;                document.getElementById("obs_status_3").checked = false;                document.getElementById("obs_status_4").checked = true;                document.getElementById("obs_status_5").checked = false;            });            $('#bt_status_5').on('click', function(event) {                event.preventDefault();                notifyat = 5;                document.getElementById("obs_status_0").checked = false;                document.getElementById("obs_status_1").checked = false;                document.getElementById("obs_status_2").checked = false;                document.getElementById("obs_status_3").checked = false;                document.getElementById("obs_status_4").checked = false;                document.getElementById("obs_status_5").checked = true;            });        },        preConfirm: function() {            var test = true;            var test1 = document.getElementById('obs_text').value;            if (!test1) {                test = false;                swal.showValidationError('Digite a Motivo ou Comentário!!!');            } else {                if ((notifyat == 0)||(notifyat == 3)) {                    test = false;                    swal.showValidationError('Selecione o status!!!');                }            }            if (test) {                var senddata = {                    _token : $('[name="_token"]').val(),                    not_id: document.getElementById('not_id').value,                    obs_status: notifyat,                    obs_text: document.getElementById('obs_text').value                };                $.ajax({                    url: '/poker/crm/save',                    type: 'post',                    dataType: 'json',                    data: senddata,                    success: function (data) {                        if (data.result == 'N') {                            aviso('warning', data.message);                            return false;                        }                        aviso('success', data.message);                        location.reload();                    }                    , error: function (XMLHttpRequest, textStatus, errorThrown) {                        aviso('warning', tratarErroAjax(XMLHttpRequest), 'Atenção!');                    }                });            } else {                setTimeout(function() {                    document.getElementById("swal2-validationerror").style.display = "none";                }, 3000)            }        }    })}